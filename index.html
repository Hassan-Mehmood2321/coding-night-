<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisualBook Mini</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1c1e21;
            --secondary-color: #65676b;
            --accent-color: #1877f2;
            --background-color: #ffffff;
            --card-color: #f0f2f5;
            --border-radius: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        html {
            scroll-behavior: smooth;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--background-color);
            color: var(--primary-color);
            padding-bottom: 70px;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Better touch targets */
        button,
        a,
        .action-btn,
        .option-btn,
        .nav-item {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        /* Smooth scrolling for containers */
        .stories-container,
        .emoji-grid {
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .app-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        .app-header {
            position: sticky;
            top: 0;
            background-color: var(--background-color);
            padding: 15px 0;
            border-bottom: 1px solid #e4e6ea;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: 700;
            font-size: 24px;
            color: var(--accent-color);
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 8px;
        }

        /* Search Bar */
        .search-container {
            flex: 1;
            max-width: 400px;
            margin: 0 20px;
            position: relative;
        }

        .search-bar {
            width: 100%;
            padding: 10px 40px 10px 16px;
            border-radius: 25px;
            border: none;
            background-color: var(--card-color);
            font-size: 15px;
            transition: all 0.3s;
        }

        .search-bar:focus {
            outline: none;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-color);
            pointer-events: none;
        }

        .clear-search {
            position: absolute;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--secondary-color);
            cursor: pointer;
            display: none;
            padding: 5px;
            font-size: 16px;
        }

        .clear-search.active {
            display: block;
        }

        /* Filter Menu */
        .filter-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .filter-title {
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .clear-filters {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 14px;
            cursor: pointer;
            padding: 4px 8px;
        }

        .filter-chips {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-chip {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid #e4e6ea;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-chip:hover {
            border-color: var(--accent-color);
            background-color: #f0f8ff;
        }

        .filter-chip.active {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .filter-chip i {
            font-size: 14px;
        }

        /* Search Results */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            margin-top: 8px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 200;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 12px 16px;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid #f0f2f5;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background-color: #f0f2f5;
        }

        .search-result-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 12px;
            float: left;
        }

        .search-result-info {
            overflow: hidden;
        }

        .search-result-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .search-result-type {
            font-size: 12px;
            color: var(--secondary-color);
        }

        .search-highlight {
            background-color: #fff3cd;
            font-weight: 600;
        }

        .no-results {
            padding: 40px 16px;
            text-align: center;
            color: var(--secondary-color);
        }

        .no-results i {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        /* Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--background-color);
            border-top: 1px solid #e4e6ea;
            padding: 10px 0;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--secondary-color);
            font-size: 12px;
            text-decoration: none;
            transition: all 0.2s;
        }

        .nav-item.active {
            color: var(--accent-color);
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* Card Styles */
        .card {
            border-radius: var(--border-radius);
            border: none;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        }

        /* Post Styles */
        .post-header {
            display: flex;
            align-items: center;
            padding: 16px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 12px;
            border: 2px solid transparent;
        }

        .avatar.has-story {
            border: 2px solid var(--accent-color);
        }

        .user-info {
            flex: 1;
        }

        .username {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .post-time {
            font-size: 12px;
            color: var(--secondary-color);
        }

        .post-options {
            color: var(--secondary-color);
        }

        .post-content {
            padding: 0 16px 12px;
        }

        .post-image {
            width: 100%;
            border-radius: 8px;
            margin-top: 12px;
            max-height: 400px;
            object-fit: cover;
        }

        .post-actions {
            display: flex;
            justify-content: space-between;
            padding: 8px 16px;
            border-top: 1px solid #e4e6ea;
        }

        .action-btn {
            display: flex;
            align-items: center;
            color: var(--secondary-color);
            background: none;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background-color: #f0f2f5;
            color: var(--accent-color);
        }

        .action-btn.liked {
            color: #e74c3c;
        }

        .action-btn.liked i {
            color: #e74c3c;
        }

        .action-btn i {
            margin-right: 6px;
        }

        /* Create Post */
        .create-post {
            padding: 16px;
        }

        .create-post-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .create-post-input {
            flex: 1;
            background-color: #f0f2f5;
            border: none;
            border-radius: 20px;
            padding: 12px 16px;
            margin-left: 12px;
            font-size: 15px;
            transition: all 0.2s;
        }

        .create-post-input:focus {
            outline: none;
            background-color: #e4e6eb;
        }

        .create-post-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid #e4e6ea;
        }

        .post-options-buttons {
            display: flex;
            gap: 8px;
        }

        .option-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background: none;
            border: none;
            border-radius: 8px;
            color: var(--secondary-color);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-btn:hover {
            background-color: #f0f2f5;
        }

        .option-btn i {
            font-size: 18px;
        }

        .option-btn.photo i {
            color: #45bd62;
        }

        .option-btn.feeling i {
            color: #f7b928;
        }

        .option-btn.location i {
            color: #f5533d;
        }

        .post-metadata {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .metadata-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background-color: #e8f5e9;
            border-radius: 12px;
            font-size: 13px;
            color: #2e7d32;
        }

        .metadata-tag.feeling {
            background-color: #fff3e0;
            color: #e65100;
        }

        .metadata-tag.location {
            background-color: #ffebee;
            color: #c62828;
        }

        .metadata-tag i {
            font-size: 14px;
        }

        .metadata-tag .remove-tag {
            margin-left: 4px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .metadata-tag .remove-tag:hover {
            opacity: 1;
        }

        /* Profile Modal */
        .profile-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        .profile-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-content {
            background-color: white;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .profile-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.1);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
        }

        .profile-close:hover {
            background: rgba(0, 0, 0, 0.2);
            transform: scale(1.1);
        }

        .profile-header-section {
            background: linear-gradient(135deg, var(--accent-color), #166fe5);
            padding: 40px 20px 20px;
            text-align: center;
            color: white;
            border-radius: 16px 16px 0 0;
        }

        .profile-pic {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid white;
            object-fit: cover;
            margin-bottom: 16px;
        }

        .profile-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .profile-bio {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .profile-location {
            font-size: 13px;
            opacity: 0.8;
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            border-bottom: 1px solid #e4e6ea;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent-color);
        }

        .stat-label {
            font-size: 13px;
            color: var(--secondary-color);
            margin-top: 4px;
        }

        .profile-actions {
            padding: 20px;
            display: flex;
            gap: 12px;
        }

        .profile-btn {
            flex: 1;
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .profile-btn.primary {
            background-color: var(--accent-color);
            color: white;
        }

        .profile-btn.primary:hover {
            background-color: #166fe5;
        }

        .profile-btn.secondary {
            background-color: #f0f2f5;
            color: var(--primary-color);
        }

        .profile-btn.secondary:hover {
            background-color: #e4e6eb;
        }

        /* Post Options Menu */
        .post-options {
            position: relative;
            cursor: pointer;
        }

        .options-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            z-index: 100;
            margin-top: 8px;
        }

        .options-menu.active {
            display: block;
            animation: fadeIn 0.2s ease-out;
        }

        .option-item {
            padding: 12px 16px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option-item:first-child {
            border-radius: 8px 8px 0 0;
        }

        .option-item:last-child {
            border-radius: 0 0 8px 8px;
        }

        .option-item:hover {
            background-color: #f0f2f5;
        }

        .option-item i {
            width: 20px;
            color: var(--secondary-color);
        }

        .option-item.delete {
            color: #c62828;
        }

        .option-item.delete i {
            color: #c62828;
        }

        /* Reaction Picker */
        .reaction-picker {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 0;
            background: white;
            border-radius: 30px;
            padding: 8px 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            margin-bottom: 8px;
            z-index: 10;
        }

        .reaction-picker.active {
            display: flex;
            gap: 8px;
            animation: scaleIn 0.2s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .reaction {
            font-size: 28px;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 4px;
        }

        .reaction:hover {
            transform: scale(1.3);
        }

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            padding: 8px 16px;
            color: var(--secondary-color);
            font-size: 13px;
            font-style: italic;
        }

        .typing-indicator.active {
            display: block;
        }

        /* Live Notification Badge */
        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background-color: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 700;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        /* Emoji Picker */
        .emoji-picker {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 0;
            background: white;
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            max-width: 300px;
            margin-bottom: 8px;
            z-index: 100;
        }

        .emoji-picker.active {
            display: block;
            animation: fadeIn 0.2s ease-out;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
        }

        .emoji-item {
            font-size: 24px;
            cursor: pointer;
            text-align: center;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .emoji-item:hover {
            background-color: #f0f2f5;
            transform: scale(1.2);
        }

        /* Dark Mode Toggle */
        body.dark-mode {
            background-color: #18191a;
            color: #e4e6eb;
        }

        body.dark-mode .card {
            background-color: #242526;
            color: #e4e6eb;
        }

        body.dark-mode .app-header {
            background-color: #242526;
            border-bottom-color: #3a3b3c;
        }

        body.dark-mode .bottom-nav {
            background-color: #242526;
            border-top-color: #3a3b3c;
        }

        body.dark-mode .create-post-input,
        body.dark-mode .comment-input {
            background-color: #3a3b3c;
            color: #e4e6eb;
        }

        body.dark-mode .metadata-tag {
            background-color: #3a3b3c;
        }

        /* Online Status Indicator */
        .online-status {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            background-color: #44b700;
            border: 2px solid white;
            border-radius: 50%;
        }

        /* GIF Button */
        .gif-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .gif-btn:hover {
            background-color: #f0f2f5;
        }

        /* Voice Message */
        .voice-recording {
            display: none;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background-color: #fff3cd;
            border-radius: 8px;
            margin-top: 8px;
        }

        .voice-recording.active {
            display: flex;
        }

        .recording-indicator {
            width: 12px;
            height: 12px;
            background-color: #dc3545;
            border-radius: 50%;
            animation: blink 1s infinite;
        }

        @keyframes blink {

            0%,
            50%,
            100% {
                opacity: 1;
            }

            25%,
            75% {
                opacity: 0.3;
            }
        }

        /* Share Modal */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1001;
            align-items: center;
            justify-content: center;
        }

        .share-modal.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .share-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
            animation: slideUp 0.3s ease-out;
        }

        .share-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e4e6ea;
        }

        .share-title {
            font-size: 20px;
            font-weight: 700;
        }

        .share-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--secondary-color);
            padding: 0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .share-close:hover {
            background-color: #f0f2f5;
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .share-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 16px 8px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .share-option:hover {
            background-color: #f0f2f5;
            transform: translateY(-2px);
        }

        .share-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 8px;
            color: white;
        }

        .share-option.facebook .share-icon {
            background-color: #1877f2;
        }

        .share-option.twitter .share-icon {
            background-color: #1da1f2;
        }

        .share-option.whatsapp .share-icon {
            background-color: #25d366;
        }

        .share-option.messenger .share-icon {
            background: linear-gradient(45deg, #0099ff, #a033ff);
        }

        .share-option.copy .share-icon {
            background-color: #6c757d;
        }

        .share-option.email .share-icon {
            background-color: #ea4335;
        }

        .share-option.telegram .share-icon {
            background-color: #0088cc;
        }

        .share-option.more .share-icon {
            background-color: #95a5a6;
        }

        .share-label {
            font-size: 12px;
            color: var(--primary-color);
            font-weight: 500;
        }

        .share-link-container {
            background-color: #f0f2f5;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .share-link-input {
            flex: 1;
            border: none;
            background: none;
            font-size: 14px;
            color: var(--secondary-color);
        }

        .copy-link-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-link-btn:hover {
            background-color: #166fe5;
        }

        .image-preview {
            position: relative;
            margin-top: 12px;
            border-radius: 12px;
            overflow: hidden;
        }

        .image-preview img {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 12px;
        }

        .remove-image {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .remove-image:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: scale(1.1);
        }

        /* Comment Section */
        .comment-section {
            display: none;
            padding: 16px;
            background-color: #f8f9fa;
            border-top: 1px solid #e4e6ea;
        }

        .comment-section.active {
            display: block;
        }

        .comment-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }

        .comment-input {
            flex: 1;
            border: 1px solid #e4e6ea;
            border-radius: 20px;
            padding: 10px 16px;
            font-size: 14px;
            background-color: white;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .comment-submit-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .comment-submit-btn:hover {
            background-color: #166fe5;
            transform: scale(1.1);
        }

        .comment-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .comment-item {
            display: flex;
            gap: 10px;
            animation: fadeIn 0.3s ease-out;
        }

        .comment-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-content {
            flex: 1;
            background-color: #f0f2f5;
            border-radius: 12px;
            padding: 10px 12px;
        }

        .comment-author {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .comment-text {
            font-size: 14px;
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .comment-time {
            font-size: 11px;
            color: var(--secondary-color);
        }

        /* Stories */
        .stories-container {
            display: flex;
            padding: 16px 0;
            overflow-x: auto;
            gap: 12px;
        }

        .stories-container::-webkit-scrollbar {
            display: none;
        }

        .story {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 70px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .story:hover {
            transform: translateY(-4px);
        }

        .story-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
            padding: 2px;
            background-color: white;
        }

        .story-username {
            font-size: 12px;
            margin-top: 6px;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Profile */
        .profile-header {
            padding: 20px;
            text-align: center;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 16px;
            border: 3px solid var(--accent-color);
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            padding: 16px;
            border-top: 1px solid #e4e6ea;
            border-bottom: 1px solid #e4e6ea;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-weight: 700;
            font-size: 18px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--secondary-color);
        }

        /* Buttons */
        .btn-primary {
            background-color: var(--accent-color);
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background-color: #166fe5;
            transform: translateY(-1px);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #e4e6ea;
            border-radius: 8px;
            padding: 8px 16px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-outline:hover {
            background-color: #f0f2f5;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .app-container {
                padding: 0 10px;
            }

            .post-actions {
                padding: 8px 10px;
            }

            .action-btn {
                padding: 6px 8px;
                font-size: 14px;
            }
        }

        /* Enhanced Responsive Design */
        @media (max-width: 768px) {
            .app-header {
                padding: 12px 0;
                flex-wrap: wrap;
            }

            .search-container {
                order: 3;
                width: 100%;
                max-width: 100%;
                margin: 12px 0 0 0;
            }

            .search-bar {
                padding: 8px 36px 8px 12px;
                font-size: 14px;
            }

            .search-results {
                max-height: 300px;
            }

            .filter-container {
                padding: 12px;
            }

            .filter-chips {
                overflow-x: auto;
                flex-wrap: nowrap;
                -webkit-overflow-scrolling: touch;
            }

            .filter-chip {
                white-space: nowrap;
                font-size: 13px;
                padding: 6px 12px;
            }

            .logo {
                font-size: 20px;
            }

            .btn-outline {
                padding: 6px 12px;
                font-size: 14px;
            }

            .stories-container {
                padding: 12px 0;
                gap: 8px;
            }

            .story {
                min-width: 60px;
            }

            .story-avatar {
                width: 50px;
                height: 50px;
            }

            .story-username {
                font-size: 11px;
                max-width: 60px;
            }

            .create-post {
                padding: 12px;
            }

            .create-post-input {
                font-size: 14px;
                padding: 10px 14px;
            }

            .post-options-buttons {
                gap: 4px;
                flex-wrap: wrap;
            }

            .option-btn {
                padding: 6px 10px;
                font-size: 13px;
            }

            .option-btn span {
                display: none;
            }

            .gif-btn {
                font-size: 16px;
                padding: 6px;
            }

            .post-header {
                padding: 12px;
            }

            .avatar {
                width: 36px;
                height: 36px;
            }

            .username {
                font-size: 14px;
            }

            .post-time {
                font-size: 11px;
            }

            .post-content {
                padding: 0 12px 10px;
            }

            .post-content p {
                font-size: 14px;
            }

            .post-actions {
                gap: 4px;
                padding: 8px 12px;
            }

            .action-btn {
                padding: 8px 10px;
                font-size: 13px;
                flex: 1;
                justify-content: center;
            }

            .reaction-picker {
                left: 50%;
                transform: translateX(-50%);
            }

            .reaction {
                font-size: 24px;
            }

            .comment-section {
                padding: 12px;
            }

            .comment-input {
                font-size: 13px;
                padding: 8px 14px;
            }

            .share-options {
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
            }

            .share-icon {
                width: 48px;
                height: 48px;
                font-size: 20px;
            }

            .share-label {
                font-size: 11px;
            }

            .options-menu {
                min-width: 180px;
            }

            .profile-content {
                width: 95%;
                max-height: 90vh;
            }

            .profile-pic {
                width: 80px;
                height: 80px;
            }

            .profile-name {
                font-size: 20px;
            }

            .emoji-picker {
                max-width: 90%;
                left: 5%;
            }

            .emoji-grid {
                grid-template-columns: repeat(6, 1fr);
            }

            .emoji-item {
                font-size: 20px;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 18px;
            }

            .logo i {
                display: none;
            }

            .btn-outline {
                padding: 6px 10px;
                font-size: 12px;
            }

            #darkModeToggle,
            #notificationBtn {
                padding: 6px 8px;
            }

            .notification-badge {
                width: 16px;
                height: 16px;
                font-size: 10px;
            }

            .post-options-buttons {
                gap: 2px;
            }

            .option-btn {
                padding: 6px 8px;
            }

            .option-btn i {
                font-size: 16px;
            }

            .action-btn {
                padding: 6px 8px;
                font-size: 12px;
            }

            .action-btn i {
                margin-right: 4px;
                font-size: 14px;
            }

            .share-options {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .share-option {
                padding: 12px 6px;
            }

            .share-icon {
                width: 44px;
                height: 44px;
                font-size: 18px;
            }

            .share-label {
                font-size: 10px;
            }

            .share-content {
                padding: 16px;
            }

            .profile-stats {
                padding: 12px;
            }

            .stat-number {
                font-size: 18px;
            }

            .stat-label {
                font-size: 11px;
            }

            .emoji-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 6px;
            }

            .bottom-nav {
                padding: 8px 0;
            }

            .nav-item {
                font-size: 11px;
            }

            .nav-item i {
                font-size: 18px;
            }
        }

        @media (max-width: 360px) {
            .app-container {
                padding: 0 8px;
            }

            .share-options {
                grid-template-columns: repeat(2, 1fr);
            }

            .action-btn span {
                display: none;
            }

            .action-btn {
                padding: 8px;
            }

            .post-content {
                font-size: 13px;
            }
        }

        /* Tablet & Desktop Improvements */
        @media (min-width: 769px) and (max-width: 1024px) {
            .app-container {
                max-width: 700px;
            }

            .share-options {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1025px) {
            .app-container {
                max-width: 680px;
            }

            .card:hover {
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            }

            .post-actions {
                gap: 8px;
            }

            .action-btn:hover {
                transform: translateY(-1px);
            }
        }

        /* Landscape Mobile */
        @media (max-height: 500px) and (orientation: landscape) {

            .profile-content,
            .share-content {
                max-height: 85vh;
                overflow-y: auto;
            }

            .bottom-nav {
                padding: 6px 0;
            }

            .nav-item i {
                font-size: 16px;
            }

            .nav-item span {
                display: none;
            }
        }

        /* Dark Mode Responsive Fixes */
        body.dark-mode .share-content,
        body.dark-mode .profile-content {
            background-color: #242526;
            color: #e4e6eb;
        }

        body.dark-mode .share-header,
        body.dark-mode .profile-header-section {
            border-bottom-color: #3a3b3c;
        }

        body.dark-mode .share-option:hover {
            background-color: #3a3b3c;
        }

        body.dark-mode .share-link-container {
            background-color: #3a3b3c;
        }

        body.dark-mode .share-link-input {
            color: #e4e6eb;
        }

        body.dark-mode .emoji-picker {
            background-color: #242526;
        }

        body.dark-mode .emoji-item:hover {
            background-color: #3a3b3c;
        }

        body.dark-mode .options-menu {
            background-color: #242526;
        }

        body.dark-mode .option-item:hover {
            background-color: #3a3b3c;
        }

        /* Story Viewer Modal */
        .story-viewer {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .story-viewer.active {
            display: flex;
        }

        .story-container {
            position: relative;
            max-width: 500px;
            width: 100%;
            height: 90vh;
            max-height: 800px;
            background-color: #000;
            border-radius: 12px;
            overflow: hidden;
        }

        .story-progress-bars {
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            display: flex;
            gap: 4px;
            z-index: 10;
        }

        .progress-bar {
            flex: 1;
            height: 3px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: white;
            width: 0%;
            transition: width 0.1s linear;
        }

        .progress-fill.active {
            animation: progress 5s linear forwards;
        }

        @keyframes progress {
            from {
                width: 0%;
            }

            to {
                width: 100%;
            }
        }

        .story-header {
            position: absolute;
            top: 20px;
            left: 16px;
            right: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 10;
        }

        .story-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            object-fit: cover;
        }

        .story-user-info {
            flex: 1;
        }

        .story-username {
            color: white;
            font-weight: 600;
            font-size: 14px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .story-time {
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .story-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.2s;
        }

        .story-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .story-content {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .story-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .story-nav {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50%;
            cursor: pointer;
            z-index: 5;
        }

        .story-nav.prev {
            left: 0;
        }

        .story-nav.next {
            right: 0;
        }

        .story-reply {
            position: absolute;
            bottom: 20px;
            left: 16px;
            right: 16px;
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .story-reply-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
            padding: 12px 16px;
            color: white;
            font-size: 14px;
        }

        .story-reply-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .story-reply-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
        }

        .story-send-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            transition: transform 0.2s;
        }

        .story-send-btn:hover {
            transform: scale(1.1);
        }

        .story-actions {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 16px;
            z-index: 10;
        }

        .story-action-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.2s;
        }

        .story-action-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .story-action-count {
            color: white;
            font-size: 11px;
            margin-top: 4px;
            text-align: center;
        }

        /* Add Story Button */
        .add-story {
            position: absolute;
            bottom: 2px;
            right: 2px;
            background: var(--accent-color);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .add-story:hover {
            transform: scale(1.1);
            background-color: #166fe5;
        }

        .story-avatar-container {
            position: relative;
        }

        /* Mobile Story Viewer */
        @media (max-width: 768px) {
            .story-container {
                max-width: 100%;
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
            }

            .story-actions {
                right: 12px;
                gap: 12px;
            }

            .story-action-btn {
                width: 44px;
                height: 44px;
                font-size: 18px;
            }
        }

        /* Live Badge */
        .live-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: linear-gradient(135deg, #e1306c, #fd1d1d);
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 6px;
            z-index: 100;
            animation: pulse 1.5s infinite;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: blink 1s infinite;
        }

        /* Seen Count */
        .seen-count {
            position: absolute;
            bottom: 20px;
            left: 16px;
            color: white;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* View Count Animation */
        .view-count {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .view-eye {
            animation: viewPulse 2s infinite;
        }

        @keyframes viewPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        /* Post Skeleton Loader */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        .skeleton-post {
            margin-bottom: 16px;
            border-radius: 16px;
            overflow: hidden;
        }

        .skeleton-header {
            display: flex;
            padding: 16px;
            gap: 12px;
        }

        .skeleton-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .skeleton-text {
            flex: 1;
        }

        .skeleton-line {
            height: 12px;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .skeleton-image {
            width: 100%;
            height: 300px;
        }

        /* Verified Badge */
        .verified-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            background: var(--accent-color);
            border-radius: 50%;
            margin-left: 4px;
        }

        .verified-badge i {
            color: white;
            font-size: 10px;
        }

        /* Saved Posts Indicator */
        .saved-indicator {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: none;
        }

        .saved-indicator.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        /* Poll Feature */
        .poll-container {
            margin-top: 12px;
            background: #f0f2f5;
            border-radius: 12px;
            padding: 16px;
        }

        .poll-question {
            font-weight: 600;
            margin-bottom: 12px;
        }

        .poll-option {
            background: white;
            border: 2px solid #e4e6ea;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .poll-option:hover {
            border-color: var(--accent-color);
        }

        .poll-option.selected {
            border-color: var(--accent-color);
            background: #e7f3ff;
        }

        .poll-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(24, 119, 242, 0.1), rgba(24, 119, 242, 0.2));
            width: 0;
            transition: width 0.5s ease-out;
            z-index: 0;
        }

        .poll-text {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
        }

        .poll-percentage {
            font-weight: 600;
            color: var(--accent-color);
        }

        /* Music Player */
        .music-player {
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 12px;
            border-radius: 12px;
            color: white;
            margin-top: 12px;
        }

        .music-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .music-info {
            flex: 1;
        }

        .music-title {
            font-weight: 600;
            font-size: 14px;
        }

        .music-artist {
            font-size: 12px;
            opacity: 0.9;
        }

        .music-play {
            width: 40px;
            height: 40px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .music-play:hover {
            transform: scale(1.1);
        }

        /* Trending Badge */
        .trending-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .trending-badge i {
            animation: bounce 1s infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-3px);
            }
        }

        /* Login/Signup Pages */
        .auth-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .auth-page.active {
            display: flex;
        }

        .auth-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.5s ease-out;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 40px;
            color: white;
        }

        .auth-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .auth-subtitle {
            color: var(--secondary-color);
            font-size: 14px;
        }

        .auth-form {
            margin-top: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
            color: var(--primary-color);
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e4e6ea;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-input::placeholder {
            color: #a0a0a0;
        }

        .password-toggle {
            position: relative;
        }

        .password-toggle .toggle-btn {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--secondary-color);
            cursor: pointer;
            font-size: 18px;
        }

        .auth-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .auth-divider {
            display: flex;
            align-items: center;
            margin: 30px 0;
            color: var(--secondary-color);
            font-size: 14px;
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e4e6ea;
        }

        .auth-divider span {
            padding: 0 15px;
        }

        .social-login {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .social-btn {
            padding: 12px;
            border: 2px solid #e4e6ea;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .social-btn:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .social-btn.google {
            color: #ea4335;
        }

        .social-btn.facebook {
            color: #1877f2;
        }

        .auth-footer {
            text-align: center;
            margin-top: 25px;
            font-size: 14px;
            color: var(--secondary-color);
        }

        .auth-link {
            color: #667eea;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
        }

        .auth-link:hover {
            text-decoration: underline;
        }

        .forgot-password {
            text-align: right;
            margin-top: -10px;
            margin-bottom: 20px;
        }

        .forgot-password a {
            color: #667eea;
            font-size: 13px;
            text-decoration: none;
        }

        .forgot-password a:hover {
            text-decoration: underline;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 20px 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-group label {
            font-size: 14px;
            color: var(--secondary-color);
            cursor: pointer;
        }

        /* Mobile Auth Pages */
        @media (max-width: 768px) {
            .auth-container {
                padding: 30px 20px;
                border-radius: 0;
                min-height: 100vh;
            }

            .auth-logo {
                width: 70px;
                height: 70px;
                font-size: 35px;
            }

            .auth-title {
                font-size: 24px;
            }

            .social-login {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- Login Page -->
    <div id="loginPage" class="auth-page">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-camera"></i>
                </div>
                <h1 class="auth-title">Welcome Back!</h1>
                <p class="auth-subtitle">Sign in to continue to VisualBook</p>
            </div>

            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <label class="form-label">Email or Username</label>
                    <input type="text" class="form-input" id="loginEmail" placeholder="Enter your email" required>
                </div>

                <div class="form-group password-toggle">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="loginPassword" placeholder="Enter your password"
                        required>
                    <button type="button" class="toggle-btn" id="toggleLoginPassword">
                        <i class="far fa-eye"></i>
                    </button>
                </div>

                <div class="forgot-password">
                    <a href="#" id="forgotPasswordLink">Forgot Password?</a>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                </div>

                <button type="submit" class="auth-btn">Sign In</button>
            </form>

            <div class="auth-divider">
                <span>OR</span>
            </div>

            <div class="social-login">
                <button class="social-btn google">
                    <i class="fab fa-google"></i>
                    Google
                </button>
                <button class="social-btn facebook">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
            </div>

            <div class="auth-footer">
                Don't have an account? <a class="auth-link" id="showSignup">Sign Up</a>
            </div>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signupPage" class="auth-page">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-camera"></i>
                </div>
                <h1 class="auth-title">Create Account</h1>
                <p class="auth-subtitle">Join VisualBook community today</p>
            </div>

            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="signupName" placeholder="Enter your full name" required
                        minlength="3">
                </div>

                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" id="signupEmail" placeholder="Enter your email" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-input" id="signupUsername" placeholder="Choose a username" required
                        minlength="3" pattern="[a-zA-Z0-9_]+">
                    <small style="color: #65676b; font-size: 12px; margin-top: 4px; display: block;">Only letters,
                        numbers and underscores</small>
                </div>

                <div class="form-group password-toggle">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="signupPassword" placeholder="Create a password"
                        required minlength="6">
                    <button type="button" class="toggle-btn" id="toggleSignupPassword">
                        <i class="far fa-eye"></i>
                    </button>
                    <div class="password-strength" id="passwordStrength" style="margin-top: 8px; display: none;">
                        <div style="display: flex; gap: 4px; margin-bottom: 4px;">
                            <div class="strength-bar"
                                style="flex: 1; height: 4px; background: #e4e6ea; border-radius: 2px;"></div>
                            <div class="strength-bar"
                                style="flex: 1; height: 4px; background: #e4e6ea; border-radius: 2px;"></div>
                            <div class="strength-bar"
                                style="flex: 1; height: 4px; background: #e4e6ea; border-radius: 2px;"></div>
                            <div class="strength-bar"
                                style="flex: 1; height: 4px; background: #e4e6ea; border-radius: 2px;"></div>
                        </div>
                        <small class="strength-text" style="color: #65676b; font-size: 12px;">Password strength:
                            Weak</small>
                    </div>
                </div>

                <div class="form-group password-toggle">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-input" id="signupConfirmPassword"
                        placeholder="Confirm your password" required>
                    <button type="button" class="toggle-btn" id="toggleConfirmPassword">
                        <i class="far fa-eye"></i>
                    </button>
                    <small class="match-indicator" id="matchIndicator"
                        style="color: #65676b; font-size: 12px; margin-top: 4px; display: none;"></small>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreeTerms" required>
                    <label for="agreeTerms">I agree to <a href="#" style="color: #667eea;">Terms & Conditions</a> and <a
                            href="#" style="color: #667eea;">Privacy Policy</a></label>
                </div>

                <button type="submit" class="auth-btn">Create Account</button>
            </form>

            <div class="auth-divider">
                <span>OR</span>
            </div>

            <div class="social-login">
                <button class="social-btn google">
                    <i class="fab fa-google"></i>
                    Google
                </button>
                <button class="social-btn facebook">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
            </div>

            <div class="auth-footer">
                Already have an account? <a class="auth-link" id="showLogin">Sign In</a>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <i class="fas fa-camera"></i>
                VisualBook Mini
            </div>
            <div class="search-container">
                <input type="text" class="search-bar" id="searchBar" placeholder="Search posts, people, hashtags...">
                <button class="clear-search" id="clearSearch">
                    <i class="fas fa-times"></i>
                </button>
                <i class="fas fa-search search-icon"></i>
                <div class="search-results" id="searchResults"></div>
            </div>
            <div style="display: flex; gap: 12px; align-items: center;">
                <button class="btn btn-outline" id="darkModeToggle" title="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <div style="position: relative;">
                    <button class="btn btn-outline" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                    </button>
                    <span class="notification-badge" id="notifBadge">3</span>
                </div>
                <button class="btn btn-outline" id="headerCreateBtn">
                    <i class="fas fa-plus"></i> Create
                </button>
            </div>
        </header>

        <!-- Filter Section -->
        <div class="filter-container" id="filterContainer">
            <div class="filter-header">
                <div class="filter-title">
                    <i class="fas fa-filter"></i>
                    Filter Posts
                </div>
                <button class="clear-filters" id="clearFilters">Clear All</button>
            </div>
            <div class="filter-chips">
                <div class="filter-chip" data-filter="all">
                    <i class="fas fa-globe"></i>
                    All Posts
                </div>
                <div class="filter-chip" data-filter="photos">
                    <i class="fas fa-images"></i>
                    Photos
                </div>
                <div class="filter-chip" data-filter="videos">
                    <i class="fas fa-video"></i>
                    Videos
                </div>
                <div class="filter-chip" data-filter="polls">
                    <i class="fas fa-poll"></i>
                    Polls
                </div>
                <div class="filter-chip" data-filter="trending">
                    <i class="fas fa-fire"></i>
                    Trending
                </div>
                <div class="filter-chip" data-filter="verified">
                    <i class="fas fa-check-circle"></i>
                    Verified
                </div>
            </div>
        </div>

        <!-- Stories Section -->
        <div class="stories-container">
            <div class="story">
                <div class="story-avatar-container">
                    <img src="https://i.pravatar.cc/150?img=1" alt="Your Story" class="story-avatar">
                    <div class="add-story">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                </div>
                <div class="story-username">Your Story</div>
            </div>
            <div class="story">
                <img src="https://i.pravatar.cc/150?img=5" alt="Sarah" class="story-avatar">
                <div class="story-username">Sarah</div>
            </div>
            <div class="story">
                <img src="https://i.pravatar.cc/150?img=12" alt="Mike" class="story-avatar">
                <div class="story-username">Mike</div>
            </div>
            <div class="story">
                <img src="https://i.pravatar.cc/150?img=8" alt="Emma" class="story-avatar">
                <div class="story-username">Emma</div>
            </div>
            <div class="story">
                <img src="https://i.pravatar.cc/150?img=15" alt="Alex" class="story-avatar">
                <div class="story-username">Alex</div>
            </div>
        </div>

        <!-- Create Post -->
        <div class="card create-post">
            <div class="create-post-header">
                <img src="https://i.pravatar.cc/150?img=1" alt="You" class="avatar">
                <input type="text" id="createPostInput" class="create-post-input" placeholder="What's on your mind?" />
            </div>
            <div id="imagePreviewContainer" class="image-preview" style="display: none;">
                <img id="imagePreview" src="" alt="Preview">
                <button id="removeImageBtn" class="remove-image">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="postMetadata" class="post-metadata"></div>
            <div class="create-post-actions">
                <div class="post-options-buttons">
                    <button class="option-btn photo" id="photoBtn">
                        <i class="fas fa-images"></i>
                        <span>Photo</span>
                    </button>
                    <button class="option-btn feeling" id="feelingBtn">
                        <i class="fas fa-smile"></i>
                        <span>Feeling</span>
                    </button>
                    <button class="option-btn location" id="locationBtn">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Location</span>
                    </button>
                    <button class="gif-btn" id="gifBtn" title="Add GIF">
                        GIF
                    </button>
                    <button class="gif-btn" id="emojiBtn" title="Add Emoji">
                        
                    </button>
                </div>
                <button id="createPostBtn" class="btn btn-primary"
                    style="border-radius: 8px; padding: 8px 24px; font-weight: 600;">Post</button>
            </div>
            <div class="emoji-picker" id="emojiPicker">
                <div class="emoji-grid" id="emojiGrid"></div>
            </div>
            <input type="file" id="imageInput" accept="image/*" style="display: none;">
        </div>

        <!-- Feed -->
        <div id="feed" class="fade-in">
            <!-- Post 1 -->
            <div class="card">
                <div class="post-header">
                    <img src="https://i.pravatar.cc/150?img=5" alt="Sarah" class="avatar has-story">
                    <div class="user-info">
                        <div class="username">
                            Sarah Johnson
                            <span class="verified-badge"><i class="fas fa-check"></i></span>
                            <span class="trending-badge"><i class="fas fa-fire"></i> Trending</span>
                        </div>
                        <div class="post-time">2 hrs ago  <i class="fas fa-globe-americas"></i></div>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                        <div class="options-menu">
                            <div class="option-item save-post">
                                <i class="far fa-bookmark"></i>
                                <span>Save Post</span>
                            </div>
                            <div class="option-item copy-link">
                                <i class="fas fa-link"></i>
                                <span>Copy Link</span>
                            </div>
                            <div class="option-item hide-post">
                                <i class="far fa-eye-slash"></i>
                                <span>Hide Post</span>
                            </div>
                            <div class="option-item report-post">
                                <i class="far fa-flag"></i>
                                <span>Report Post</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="post-content">
                    <p>Just finished my morning hike! The view was absolutely breathtaking. </p>
                    <div class="seen-count view-count">
                        <i class="fas fa-eye view-eye"></i>
                        <span>2.3K views</span>
                    </div>
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                        alt="Mountain view" class="post-image">
                    <span class="saved-indicator"><i class="fas fa-bookmark"></i> Saved</span>
                </div>
                <div class="post-actions">
                    <button class="action-btn like-btn" data-long-press="reactions">
                        <div class="reaction-picker">
                            <span class="reaction" data-reaction=""></span>
                            <span class="reaction" data-reaction=""></span>
                            <span class="reaction" data-reaction=""></span>
                            <span class="reaction" data-reaction=""></span>
                            <span class="reaction" data-reaction=""></span>
                            <span class="reaction" data-reaction=""></span>
                        </div>
                        <i class="far fa-heart"></i> 124
                    </button>
                    <button class="action-btn comment-toggle-btn">
                        <i class="far fa-comment"></i> 23
                    </button>
                    <button class="action-btn">
                        <i class="far fa-paper-plane"></i> Share
                    </button>
                </div>
                <div class="comment-section">
                    <div class="comment-input-container">
                        <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                        <input type="text" class="comment-input" placeholder="Write a comment...">
                        <button class="comment-submit-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="comment-list">
                        <div class="comment-item">
                            <img src="https://i.pravatar.cc/150?img=12" alt="User" class="comment-avatar">
                            <div class="comment-content">
                                <div class="comment-author">Mike Chen</div>
                                <div class="comment-text">Amazing view! Where is this?</div>
                                <div class="comment-time">2h ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Post 2 -->
            <div class="card">
                <div class="post-header">
                    <img src="https://i.pravatar.cc/150?img=12" alt="Mike" class="avatar">
                    <div class="user-info">
                        <div class="username">Mike Chen</div>
                        <div class="post-time">5 hrs ago  <i class="fas fa-map-marker-alt"></i> New York</div>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>Just launched my new startup! After months of hard work, we're finally live. So excited to share
                        this journey with all of you! </p>
                    <p>#startup #entrepreneurship #tech</p>
                </div>
                <div class="post-actions">
                    <button class="action-btn">
                        <i class="far fa-heart"></i> 89
                    </button>
                    <button class="action-btn comment-toggle-btn">
                        <i class="far fa-comment"></i> 14
                    </button>
                    <button class="action-btn">
                        <i class="far fa-paper-plane"></i> Share
                    </button>
                </div>
                <div class="comment-section">
                    <div class="comment-input-container">
                        <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                        <input type="text" class="comment-input" placeholder="Write a comment...">
                        <button class="comment-submit-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="comment-list"></div>
                </div>
            </div>

            <!-- Post 3 -->
            <div class="card">
                <div class="post-header">
                    <img src="https://i.pravatar.cc/150?img=8" alt="Emma" class="avatar has-story">
                    <div class="user-info">
                        <div class="username">Emma Wilson</div>
                        <div class="post-time">1 day ago  <i class="fas fa-globe-americas"></i></div>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>Weekend brunch with friends! Nothing beats good food and great company. </p>
                    <img src="https://images.unsplash.com/photo-1551218808-94e220e084d2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                        alt="Brunch" class="post-image">
                </div>
                <div class="post-actions">
                    <button class="action-btn">
                        <i class="far fa-heart"></i> 210
                    </button>
                    <button class="action-btn comment-toggle-btn">
                        <i class="far fa-comment"></i> 42
                    </button>
                    <button class="action-btn">
                        <i class="far fa-paper-plane"></i> Share
                    </button>
                </div>
                <div class="comment-section">
                    <div class="comment-input-container">
                        <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                        <input type="text" class="comment-input" placeholder="Write a comment...">
                        <button class="comment-submit-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="comment-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Search</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-plus-square"></i>
            <span>Create</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-user-friends"></i>
            <span>Friends</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
    </nav>

    <!-- Share Modal -->
    <div id="shareModal" class="share-modal">
        <div class="share-content">
            <div class="share-header">
                <h3 class="share-title">Share Post</h3>
                <button class="share-close" id="closeShareModal"></button>
            </div>
            <div class="share-options">
                <div class="share-option facebook" data-platform="facebook">
                    <div class="share-icon"><i class="fab fa-facebook-f"></i></div>
                    <div class="share-label">Facebook</div>
                </div>
                <div class="share-option twitter" data-platform="twitter">
                    <div class="share-icon"><i class="fab fa-twitter"></i></div>
                    <div class="share-label">Twitter</div>
                </div>
                <div class="share-option whatsapp" data-platform="whatsapp">
                    <div class="share-icon"><i class="fab fa-whatsapp"></i></div>
                    <div class="share-label">WhatsApp</div>
                </div>
                <div class="share-option messenger" data-platform="messenger">
                    <div class="share-icon"><i class="fab fa-facebook-messenger"></i></div>
                    <div class="share-label">Messenger</div>
                </div>
                <div class="share-option email" data-platform="email">
                    <div class="share-icon"><i class="fas fa-envelope"></i></div>
                    <div class="share-label">Email</div>
                </div>
                <div class="share-option telegram" data-platform="telegram">
                    <div class="share-icon"><i class="fab fa-telegram"></i></div>
                    <div class="share-label">Telegram</div>
                </div>
                <div class="share-option copy" data-platform="copy">
                    <div class="share-icon"><i class="fas fa-link"></i></div>
                    <div class="share-label">Copy Link</div>
                </div>
                <div class="share-option more" data-platform="more">
                    <div class="share-icon"><i class="fas fa-ellipsis-h"></i></div>
                    <div class="share-label">More</div>
                </div>
            </div>
            <div class="share-link-container">
                <input type="text" class="share-link-input" id="shareLink" value="" readonly>
                <button class="copy-link-btn" id="copyShareLink">Copy</button>
            </div>
        </div>
    </div>

    <!-- Story Viewer -->
    <div id="storyViewer" class="story-viewer">
        <div class="story-container">
            <div class="story-progress-bars" id="storyProgressBars"></div>

            <div class="story-header">
                <img src="https://i.pravatar.cc/150?img=5" alt="User" class="story-user-avatar" id="storyUserAvatar">
                <div class="story-user-info">
                    <div class="story-username" id="storyUsername">Sarah Johnson</div>
                    <div class="story-time" id="storyTime">2h ago</div>
                </div>
                <button class="story-close" id="closeStoryViewer"></button>
            </div>

            <div class="story-content">
                <img src="" alt="Story" class="story-image" id="storyImage">
                <div class="story-nav prev" id="prevStory"></div>
                <div class="story-nav next" id="nextStory"></div>
            </div>

            <div class="story-actions">
                <div>
                    <button class="story-action-btn" id="likeStory">
                        <i class="far fa-heart"></i>
                    </button>
                    <div class="story-action-count">124</div>
                </div>
                <div>
                    <button class="story-action-btn" id="shareStory">
                        <i class="far fa-paper-plane"></i>
                    </button>
                    <div class="story-action-count">12</div>
                </div>
            </div>

            <div class="story-reply">
                <input type="text" class="story-reply-input" placeholder="Send message..." id="storyReplyInput">
                <button class="story-send-btn" id="sendStoryReply">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="profile-modal">
        <div class="profile-content">
            <button class="profile-close" id="closeProfile">
                <i class="fas fa-times"></i>
            </button>
            <div class="profile-header-section">
                <img src="https://i.pravatar.cc/150?img=1" alt="Profile" class="profile-pic" id="modalProfilePic">
                <div class="profile-name" id="modalProfileName">Your Name</div>
                <div class="profile-bio" id="modalProfileBio">Welcome to VisualBook! </div>
                <div class="profile-location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="modalProfileLocation">Somewhere on Earth </span>
                </div>
            </div>
            <div class="profile-stats">
                <div class="stat-item">
                    <div class="stat-number" id="modalPostsCount">0</div>
                    <div class="stat-label">Posts</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="modalFollowersCount">247</div>
                    <div class="stat-label">Followers</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="modalFollowingCount">189</div>
                    <div class="stat-label">Following</div>
                </div>
            </div>
            <div class="profile-actions">
                <button class="profile-btn primary" id="editProfileBtn">
                    <i class="fas fa-edit"></i> Edit Profile
                </button>
                <button class="profile-btn secondary" id="settingsBtn">
                    <i class="fas fa-cog"></i> Settings
                </button>
            </div>
        </div>
    </div>

    <script>
        // Simple animations for interactions
        document.addEventListener('DOMContentLoaded', function () {
            // Check if user is logged in
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const loginPage = document.getElementById('loginPage');
            const signupPage = document.getElementById('signupPage');
            const appContainer = document.querySelector('.app-container');
            const mainNav = document.getElementById('mainNav');

            // Show signup page by default (for testing)
            // Change to show login if not logged in
            if (!isLoggedIn) {
                // Show signup page instead of login for demo
                signupPage.classList.add('active');
                appContainer.style.display = 'none';
                mainNav.style.display = 'none';
            } else {
                const userName = localStorage.getItem('userName') || 'User';
                // Update UI with user name if needed
            }

            // Login/Signup Toggle
            document.getElementById('showSignup').addEventListener('click', function (e) {
                e.preventDefault();
                loginPage.classList.remove('active');
                signupPage.classList.add('active');
            });

            document.getElementById('showLogin').addEventListener('click', function (e) {
                e.preventDefault();
                signupPage.classList.remove('active');
                loginPage.classList.add('active');
            });

            // Password Toggle Visibility
            function setupPasswordToggle(toggleBtnId, inputId) {
                const toggleBtn = document.getElementById(toggleBtnId);
                const input = document.getElementById(inputId);

                if (toggleBtn && input) {
                    toggleBtn.addEventListener('click', function () {
                        const icon = this.querySelector('i');
                        if (input.type === 'password') {
                            input.type = 'text';
                            icon.classList.remove('fa-eye');
                            icon.classList.add('fa-eye-slash');
                        } else {
                            input.type = 'password';
                            icon.classList.remove('fa-eye-slash');
                            icon.classList.add('fa-eye');
                        }
                    });
                }
            }

            setupPasswordToggle('toggleLoginPassword', 'loginPassword');
            setupPasswordToggle('toggleSignupPassword', 'signupPassword');
            setupPasswordToggle('toggleConfirmPassword', 'signupConfirmPassword');

            // Login Form Submit
            document.getElementById('loginForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                // Simple validation (in real app, verify with backend)
                if (email && password) {
                    localStorage.setItem('isLoggedIn', 'true');
                    localStorage.setItem('userName', email.split('@')[0]);

                    // Show success animation
                    alert(' Login successful! Welcome back!');

                    // Hide login page, show app
                    loginPage.classList.remove('active');
                    appContainer.style.display = 'block';
                    mainNav.style.display = 'flex';

                    // Reload to show main app
                    setTimeout(() => location.reload(), 500);
                } else {
                    alert(' Please enter valid credentials');
                }
            });

            // Signup Form Submit
            document.getElementById('signupForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const username = document.getElementById('signupUsername').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;
                const agreeTerms = document.getElementById('agreeTerms').checked;

                // Validation
                if (name.length < 3) {
                    alert(' Name must be at least 3 characters long');
                    return;
                }

                if (username.length < 3) {
                    alert(' Username must be at least 3 characters long');
                    return;
                }

                if (!/^[a-zA-Z0-9_]+$/.test(username)) {
                    alert(' Username can only contain letters, numbers and underscores');
                    return;
                }

                if (!email.includes('@') || !email.includes('.')) {
                    alert(' Please enter a valid email address');
                    return;
                }

                if (!agreeTerms) {
                    alert(' Please agree to Terms & Conditions');
                    return;
                }

                if (password !== confirmPassword) {
                    alert(' Passwords do not match!');
                    return;
                }

                if (password.length < 6) {
                    alert(' Password must be at least 6 characters');
                    return;
                }

                // Save user data
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('userName', name);
                localStorage.setItem('userUsername', username);
                localStorage.setItem('userEmail', email);

                alert(' Account created successfully! Welcome to VisualBook, ' + name + '!');

                // Hide signup page, show app
                signupPage.classList.remove('active');
                appContainer.style.display = 'block';
                mainNav.style.display = 'flex';

                // Reload to show main app
                setTimeout(() => location.reload(), 500);
            });

            // Password Strength Checker
            const signupPassword = document.getElementById('signupPassword');
            const passwordStrength = document.getElementById('passwordStrength');
            const strengthBars = passwordStrength.querySelectorAll('.strength-bar');
            const strengthText = passwordStrength.querySelector('.strength-text');

            signupPassword.addEventListener('input', function () {
                const password = this.value;
                passwordStrength.style.display = password.length > 0 ? 'block' : 'none';

                let strength = 0;
                if (password.length >= 6) strength++;
                if (password.length >= 10) strength++;
                if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
                if (/[0-9]/.test(password)) strength++;
                if (/[^a-zA-Z0-9]/.test(password)) strength++;

                // Reset all bars
                strengthBars.forEach(bar => bar.style.background = '#e4e6ea');

                // Color bars based on strength
                const colors = ['#f44336', '#ff9800', '#ffc107', '#4caf50'];
                const labels = ['Weak', 'Fair', 'Good', 'Strong'];

                let level = Math.min(Math.floor(strength / 1.5), 3);

                for (let i = 0; i <= level; i++) {
                    strengthBars[i].style.background = colors[level];
                }

                strengthText.textContent = 'Password strength: ' + labels[level];
                strengthText.style.color = colors[level];
            });

            // Password Match Checker
            const confirmPasswordInput = document.getElementById('signupConfirmPassword');
            const matchIndicator = document.getElementById('matchIndicator');

            confirmPasswordInput.addEventListener('input', function () {
                const password = signupPassword.value;
                const confirm = this.value;

                if (confirm.length > 0) {
                    matchIndicator.style.display = 'block';
                    if (password === confirm) {
                        matchIndicator.textContent = ' Passwords match';
                        matchIndicator.style.color = '#4caf50';
                    } else {
                        matchIndicator.textContent = ' Passwords do not match';
                        matchIndicator.style.color = '#f44336';
                    }
                } else {
                    matchIndicator.style.display = 'none';
                }
            });

            // Password Toggle Buttons
            document.getElementById('toggleSignupPassword').addEventListener('click', function () {
                const input = signupPassword;
                const icon = this.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });

            document.getElementById('toggleConfirmPassword').addEventListener('click', function () {
                const input = confirmPasswordInput;
                const icon = this.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });

            document.getElementById('toggleLoginPassword').addEventListener('click', function () {
                const input = document.getElementById('loginPassword');
                const icon = this.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });

            // Social Login Buttons
            document.querySelectorAll('.social-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const platform = this.classList.contains('google') ? 'Google' : 'Facebook';
                    alert(` ${platform} login will be integrated soon!`);
                });
            });

            // Forgot Password
            document.getElementById('forgotPasswordLink').addEventListener('click', function (e) {
                e.preventDefault();
                const email = prompt('Enter your email address:');
                if (email) {
                    alert(' Password reset link sent to ' + email);
                }
            });

            // Logout functionality (add to settings later)
            window.logout = function () {
                if (confirm('Are you sure you want to logout?')) {
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('userName');
                    localStorage.removeItem('userEmail');
                    location.reload();
                }
            };

            // Create Post Functionality
            const createPostBtn = document.getElementById('createPostBtn');
            const createPostInput = document.getElementById('createPostInput');
            const feed = document.getElementById('feed');
            const photoBtn = document.getElementById('photoBtn');
            const imageInput = document.getElementById('imageInput');
            const imagePreview = document.getElementById('imagePreview');
            const imagePreviewContainer = document.getElementById('imagePreviewContainer');
            const removeImageBtn = document.getElementById('removeImageBtn');
            let selectedImage = null;
            const feelingBtn = document.getElementById('feelingBtn');
            const locationBtn = document.getElementById('locationBtn');
            const postMetadata = document.getElementById('postMetadata');
            let selectedFeeling = null;
            let selectedLocation = null;

            const feelings = [
                'Happy ', 'Excited ', 'Loved ', 'Blessed ', 'Grateful ',
                'Relaxed ', 'Energized ', 'Motivated ', 'Inspired ', 'Creative ',
                'Proud ', 'Confident ', 'Cheerful ', 'Peaceful ', 'Thankful '
            ];

            const locations = [
                'New York, USA ', 'Los Angeles, USA ', 'Chicago, USA ',
                'Miami, USA ', 'San Francisco, USA ', 'Seattle, USA ',
                'Boston, USA ', 'Las Vegas, USA ', 'Paris, France ',
                'London, UK ', 'Tokyo, Japan ', 'Dubai, UAE ',
                'Sydney, Australia ', 'Rome, Italy ', 'Barcelona, Spain '
            ];

            // Photo upload functionality
            photoBtn.addEventListener('click', function () {
                imageInput.click();
            });

            imageInput.addEventListener('change', function (e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (event) {
                        selectedImage = event.target.result;
                        imagePreview.src = selectedImage;
                        imagePreviewContainer.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });

            removeImageBtn.addEventListener('click', function () {
                selectedImage = null;
                imagePreview.src = '';
                imagePreviewContainer.style.display = 'none';
                imageInput.value = '';
            });

            // Feeling button functionality
            feelingBtn.addEventListener('click', function () {
                const feeling = prompt('How are you feeling?\n\nChoose from:\n' + feelings.join('\n') + '\n\nOr type your own:');
                if (feeling && feeling.trim() !== '') {
                    selectedFeeling = feeling.trim();
                    updateMetadataDisplay();
                }
            });

            // Location button functionality
            locationBtn.addEventListener('click', function () {
                const location = prompt('Where are you?\n\nChoose from:\n' + locations.join('\n') + '\n\nOr type your own:');
                if (location && location.trim() !== '') {
                    selectedLocation = location.trim();
                    updateMetadataDisplay();
                }
            });

            // Update metadata display
            function updateMetadataDisplay() {
                postMetadata.innerHTML = '';

                if (selectedFeeling) {
                    const feelingTag = document.createElement('div');
                    feelingTag.className = 'metadata-tag feeling';
                    feelingTag.innerHTML = `
                        <i class="fas fa-smile"></i>
                        <span>Feeling ${selectedFeeling}</span>
                        <i class="fas fa-times remove-tag"></i>
                    `;
                    feelingTag.querySelector('.remove-tag').addEventListener('click', function () {
                        selectedFeeling = null;
                        updateMetadataDisplay();
                    });
                    postMetadata.appendChild(feelingTag);
                }

                if (selectedLocation) {
                    const locationTag = document.createElement('div');
                    locationTag.className = 'metadata-tag location';
                    locationTag.innerHTML = `
                        <i class="fas fa-map-marker-alt"></i>
                        <span>${selectedLocation}</span>
                        <i class="fas fa-times remove-tag"></i>
                    `;
                    locationTag.querySelector('.remove-tag').addEventListener('click', function () {
                        selectedLocation = null;
                        updateMetadataDisplay();
                    });
                    postMetadata.appendChild(locationTag);
                }
            }

            createPostBtn.addEventListener('click', function () {
                const postContent = createPostInput.value.trim();
                if (postContent === '' && !selectedImage) {
                    alert('Please write something or add a photo before posting!');
                    return;
                }

                // Create metadata HTML
                let metadataHTML = '';
                if (selectedFeeling || selectedLocation) {
                    metadataHTML = '<div class="post-meta" style="margin-top: 8px; font-size: 14px; color: #65676b;">';
                    if (selectedFeeling) {
                        metadataHTML += `<span><i class="fas fa-smile"></i> Feeling ${selectedFeeling}</span>`;
                    }
                    if (selectedFeeling && selectedLocation) {
                        metadataHTML += '  ';
                    }
                    if (selectedLocation) {
                        metadataHTML += `<span><i class="fas fa-map-marker-alt"></i> ${selectedLocation}</span>`;
                    }
                    metadataHTML += '</div>';
                }

                // Create new post element
                const newPost = document.createElement('div');
                newPost.className = 'card fade-in';
                newPost.innerHTML = `
                    <div class="post-header">
                        <img src="https://i.pravatar.cc/150?img=1" alt="You" class="avatar">
                        <div class="user-info">
                            <div class="username">You</div>
                            <div class="post-time">Just now  <i class="fas fa-globe-americas"></i></div>
                        </div>
                        <div class="post-options">
                            <i class="fas fa-ellipsis-h"></i>
                        </div>
                    </div>
                    <div class="post-content">
                        ${postContent ? `<p>${postContent}</p>` : ''}
                        ${metadataHTML}
                        ${selectedImage ? `<img src="${selectedImage}" class="post-image" alt="Post image">` : ''}
                    </div>
                    <div class="post-actions">
                        <button class="action-btn">
                            <i class="far fa-heart"></i> 0
                        </button>
                        <button class="action-btn comment-toggle-btn">
                            <i class="far fa-comment"></i> 0
                        </button>
                        <button class="action-btn share-action">
                            <i class="far fa-paper-plane"></i> Share
                        </button>
                    </div>
                    <div class="comment-section">
                        <div class="comment-input-container">
                            <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                            <input type="text" class="comment-input" placeholder="Write a comment...">
                            <button class="comment-submit-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="comment-list"></div>
                    </div>
                `;

                // Add the new post to the top of the feed
                feed.prepend(newPost);

                // Clear the input and image
                createPostInput.value = '';
                selectedImage = null;
                imagePreview.src = '';
                imagePreviewContainer.style.display = 'none';
                imageInput.value = '';
                selectedFeeling = null;
                selectedLocation = null;
                updateMetadataDisplay();

                // Add like functionality to the new post
                const newLikeButton = newPost.querySelector('.action-btn');
                newLikeButton.addEventListener('click', function () {
                    if (this.querySelector('.fa-heart')) {
                        const icon = this.querySelector('.fa-heart');
                        if (icon.classList.contains('far')) {
                            icon.classList.remove('far');
                            icon.classList.add('fas');
                            icon.style.color = '#e74c3c';
                            const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                            this.innerHTML = `<i class="fas fa-heart"></i> ${currentLikes + 1}`;
                        } else {
                            icon.classList.remove('fas');
                            icon.classList.add('far');
                            icon.style.color = '';
                            const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                            this.innerHTML = `<i class="far fa-heart"></i> ${currentLikes - 1}`;
                        }
                    }
                });

                // Add comment functionality to the new post
                setupCommentFunctionality(newPost);

                // Add share functionality to the new post
                const shareBtn = newPost.querySelector('.share-action');
                shareBtn.addEventListener('click', function () {
                    alert('Post shared successfully! ');
                });
            });

            // Comment toggle and submit functionality for all posts
            function setupCommentFunctionality(post) {
                const commentToggleBtn = post.querySelector('.comment-toggle-btn');
                const commentSection = post.querySelector('.comment-section');
                const commentInput = post.querySelector('.comment-input');
                const commentSubmitBtn = post.querySelector('.comment-submit-btn');
                const commentList = post.querySelector('.comment-list');

                if (!commentToggleBtn || !commentSection) return;

                // Toggle comment section
                commentToggleBtn.addEventListener('click', function () {
                    commentSection.classList.toggle('active');
                    if (commentSection.classList.contains('active')) {
                        commentInput.focus();
                    }
                });

                // Submit comment
                function submitComment() {
                    const commentText = commentInput.value.trim();
                    if (commentText === '') return;

                    // Create comment element
                    const commentItem = document.createElement('div');
                    commentItem.className = 'comment-item';
                    commentItem.innerHTML = `
                        <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                        <div class="comment-content">
                            <div class="comment-author">You</div>
                            <div class="comment-text">${commentText}</div>
                            <div class="comment-time">Just now</div>
                        </div>
                    `;

                    // Add comment to list
                    commentList.appendChild(commentItem);

                    // Update comment count
                    const currentCount = parseInt(commentToggleBtn.textContent.match(/\d+/)?.[0] || '0');
                    const newCount = currentCount + 1;
                    const icon = commentToggleBtn.querySelector('i').cloneNode(true);
                    commentToggleBtn.innerHTML = '';
                    commentToggleBtn.appendChild(icon);
                    commentToggleBtn.innerHTML += ` ${newCount}`;

                    // Clear input
                    commentInput.value = '';
                }

                commentSubmitBtn.addEventListener('click', submitComment);

                commentInput.addEventListener('keypress', function (e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        submitComment();
                    }
                });
            }

            // Setup comments for existing posts
            document.querySelectorAll('.card').forEach(post => {
                if (post.querySelector('.comment-toggle-btn')) {
                    setupCommentFunctionality(post);
                }
            });

            // Share button functionality for all posts
            document.querySelectorAll('.share-action').forEach(btn => {
                btn.addEventListener('click', function () {
                    openShareModal();
                });
            });

            // Share Modal Functions
            const shareModal = document.getElementById('shareModal');
            const closeShareModal = document.getElementById('closeShareModal');
            const shareLink = document.getElementById('shareLink');
            const copyShareLink = document.getElementById('copyShareLink');
            let currentPostUrl = window.location.href;

            function openShareModal() {
                shareLink.value = currentPostUrl;
                shareModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeShareModalFn() {
                shareModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            closeShareModal.addEventListener('click', closeShareModalFn);

            shareModal.addEventListener('click', function (e) {
                if (e.target === shareModal) {
                    closeShareModalFn();
                }
            });

            // Copy link button
            copyShareLink.addEventListener('click', function () {
                shareLink.select();
                navigator.clipboard.writeText(shareLink.value);
                this.textContent = 'Copied!';
                setTimeout(() => {
                    this.textContent = 'Copy';
                }, 2000);
            });

            // Share platform buttons
            document.querySelectorAll('.share-option').forEach(option => {
                option.addEventListener('click', function () {
                    const platform = this.dataset.platform;
                    const url = encodeURIComponent(currentPostUrl);
                    const text = encodeURIComponent('Check out this post on VisualBook!');

                    switch (platform) {
                        case 'facebook':
                            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
                            break;
                        case 'twitter':
                            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
                            break;
                        case 'whatsapp':
                            window.open(`https://wa.me/?text=${text}%20${url}`, '_blank');
                            break;
                        case 'messenger':
                            window.open(`fb-messenger://share/?link=${url}`, '_blank');
                            break;
                        case 'email':
                            window.location.href = `mailto:?subject=${text}&body=${url}`;
                            break;
                        case 'telegram':
                            window.open(`https://t.me/share/url?url=${url}&text=${text}`, '_blank');
                            break;
                        case 'copy':
                            navigator.clipboard.writeText(currentPostUrl);
                            alert(' Link copied to clipboard!');
                            closeShareModalFn();
                            break;
                        case 'more':
                            if (navigator.share) {
                                navigator.share({
                                    title: 'VisualBook Post',
                                    text: 'Check out this post!',
                                    url: currentPostUrl
                                }).catch(() => { });
                            } else {
                                alert(' Share menu:\n\nLinkedIn, Pinterest, Reddit, and more coming soon!');
                            }
                            break;
                    }

                    // Update share count (simulated)
                    const shareBtn = document.querySelector('.share-action');
                    if (shareBtn && platform !== 'copy' && platform !== 'more') {
                        setTimeout(() => {
                            closeShareModalFn();
                            alert(' Shared successfully!');
                        }, 500);
                    }
                });
            });

            // Bottom Navigation functionality
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Remove active class from all items
                    navItems.forEach(nav => nav.classList.remove('active'));

                    // Add active class to clicked item
                    this.classList.add('active');

                    // Get the section name
                    const section = this.querySelector('span').textContent.toLowerCase();

                    // Show different content based on section
                    if (section === 'home') {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    } else if (section === 'search') {
                        const searchTerm = prompt(' Search VisualBook:');
                        if (searchTerm) {
                            alert(`Searching for: ${searchTerm}`);
                        }
                    } else if (section === 'create') {
                        createPostInput.focus();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    } else if (section === 'friends') {
                        alert(' Friends section coming soon!');
                    } else if (section === 'profile') {
                        openProfileModal();
                    }
                });
            });

            // Profile Modal Functions
            const profileModal = document.getElementById('profileModal');
            const closeProfile = document.getElementById('closeProfile');
            const editProfileBtn = document.getElementById('editProfileBtn');
            const settingsBtn = document.getElementById('settingsBtn');
            const modalPostsCount = document.getElementById('modalPostsCount');

            function openProfileModal() {
                // Count user's posts
                const userPosts = document.querySelectorAll('.post-header .username');
                let postCount = 0;
                userPosts.forEach(post => {
                    if (post.textContent === 'You') postCount++;
                });

                modalPostsCount.textContent = postCount;
                profileModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeProfileModal() {
                profileModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            closeProfile.addEventListener('click', closeProfileModal);

            // Close modal when clicking outside
            profileModal.addEventListener('click', function (e) {
                if (e.target === profileModal) {
                    closeProfileModal();
                }
            });

            // Edit Profile button
            editProfileBtn.addEventListener('click', function () {
                const newName = prompt('Enter your name:', 'Your Name');
                const newBio = prompt('Enter your bio:', 'Welcome to VisualBook!');
                const newLocation = prompt('Enter your location:', 'Somewhere on Earth');

                if (newName) document.getElementById('modalProfileName').textContent = newName;
                if (newBio) document.getElementById('modalProfileBio').textContent = newBio;
                if (newLocation) document.getElementById('modalProfileLocation').textContent = newLocation;

                alert(' Profile updated successfully!');
            });

            // Settings button
            settingsBtn.addEventListener('click', function () {
                const choice = confirm(' Settings Menu\n\nDo you want to:\n\nOK = Logout\nCancel = View Settings');
                if (choice) {
                    logout();
                } else {
                    alert(' Settings:\n\n Privacy Settings\n Notifications\n Account Settings\n Help & Support\n\nComing soon!');
                }
            });

            // Post Options Menu (3 dots)
            document.addEventListener('click', function (e) {
                // Close all open menus first
                document.querySelectorAll('.options-menu').forEach(menu => {
                    if (!menu.parentElement.contains(e.target)) {
                        menu.classList.remove('active');
                    }
                });

                // Toggle clicked menu
                if (e.target.classList.contains('fa-ellipsis-h') || e.target.closest('.post-options')) {
                    const postOptions = e.target.closest('.post-options');
                    if (postOptions) {
                        const menu = postOptions.querySelector('.options-menu');
                        if (menu) {
                        }
                        menu.classList.toggle('active');
                    }
                }
            });

            // Options Menu Actions
            document.querySelectorAll('.save-post').forEach(btn => {
                btn.addEventListener('click', function () {

                    const post = this.closest('.card');
                    const savedIndicator = post.querySelector('.saved-indicator');
                    if (savedIndicator) {
                        savedIndicator.classList.add('active');
                        setTimeout(() => savedIndicator.classList.remove('active'), 3000);
                    }
                    alert(' Post saved to your collection!');
                    this.closest('.options-menu').classList.remove('active');
                });
            });

            // Poll Voting
            document.querySelectorAll('.poll-option').forEach(option => {
                option.addEventListener('click', function () {
                    const poll = this.closest('.poll-container');
                    poll.querySelectorAll('.poll-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');

                    const votes = parseInt(this.dataset.votes);
                    alert(` Vote recorded! ${votes}% of users chose this option.`);
                });
            });

            // View Counter Animation
            function incrementViewCount() {
                document.querySelectorAll('.view-count span').forEach(counter => {
                    const currentViews = counter.textContent;
                    const match = currentViews.match(/([\d.]+)K/);
                    if (match) {
                        let views = parseFloat(match[1]);
                        views += 0.1;
                        counter.textContent = views.toFixed(1) + 'K views';
                    }
                });
            }

            // Update view count every 5 seconds
            setInterval(incrementViewCount, 5000);

            // Skeleton Loader for new posts
            function showSkeletonLoader() {
                const skeleton = document.createElement('div');
                skeleton.className = 'card skeleton-post';
                skeleton.innerHTML = `
                    <div class="skeleton-header">
                        <div class="skeleton skeleton-avatar"></div>
                        <div class="skeleton-text">
                            <div class="skeleton skeleton-line" style="width: 150px;"></div>
                            <div class="skeleton skeleton-line" style="width: 100px;"></div>
                        </div>
                    </div>
                    <div class="skeleton skeleton-image"></div>
                `;
                return skeleton;
            }

            // Live Badge for Stories
            function addLiveBadge() {
                const stories = document.querySelectorAll('.story');
                if (stories.length > 0 && Math.random() > 0.7) {
                    const randomStory = stories[Math.floor(Math.random() * stories.length)];
                    const liveBadge = document.createElement('div');
                    liveBadge.className = 'live-badge';
                    liveBadge.innerHTML = '<div class="live-dot"></div><span>LIVE</span>';
                    randomStory.style.position = 'relative';
                    randomStory.appendChild(liveBadge);
                }
            }

            setTimeout(addLiveBadge, 2000);

            // Welcome Animation
            if (isLoggedIn) {
                const userName = localStorage.getItem('userName') || 'User';
                setTimeout(() => {
                    const welcome = document.createElement('div');
                    welcome.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 16px 24px;
                        border-radius: 12px;
                        box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
                        z-index: 9999;
                        animation: slideInRight 0.5s ease-out;
                        font-weight: 600;
                    `;
                    welcome.innerHTML = ` Welcome back, ${userName}!`;
                    document.body.appendChild(welcome);

                    setTimeout(() => {
                        welcome.style.animation = 'slideOutRight 0.5s ease-out';
                        setTimeout(() => welcome.remove(), 500);
                    }, 3000);
                }, 1000);
            }

            // Add slide animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(400px); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOutRight {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(400px); opacity: 0; }
                }
            `;
            document.head.appendChild(style);

            // Real-time Post Updates Notification
            let newPostsCount = 0;
            setInterval(() => {
                if (Math.random() > 0.8) {
                    newPostsCount++;
                    showNewPostsNotification(newPostsCount);
                }
            }, 30000); // Check every 30 seconds

            function showNewPostsNotification(count) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 80px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: white;
                    padding: 12px 24px;
                    border-radius: 24px;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                    z-index: 9999;
                    cursor: pointer;
                    animation: slideDown 0.3s ease-out;
                    font-weight: 600;
                    color: var(--accent-color);
                `;
                notification.innerHTML = ` ${count} new post${count > 1 ? 's' : ''}`;
                notification.onclick = () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    notification.remove();
                    newPostsCount = 0;
                };
                document.body.appendChild(notification);

                setTimeout(() => notification.remove(), 5000);
            }

            // Lazy Loading Images
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                            img.removeAttribute('data-src');
                            imageObserver.unobserve(img);
                        }
                    }
                });
            });

            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });

            // Infinite Scroll
            let isLoadingPosts = false;
            window.addEventListener('scroll', () => {
                const scrollPosition = window.innerHeight + window.scrollY;
                const pageHeight = document.documentElement.scrollHeight;

                if (scrollPosition >= pageHeight - 500 && !isLoadingPosts) {
                    isLoadingPosts = true;
                    loadMorePosts();
                }
            });

            function loadMorePosts() {
                const feed = document.getElementById('feed');
                const loader = showSkeletonLoader();
                feed.appendChild(loader);

                setTimeout(() => {
                    loader.remove();
                    // Add new random post
                    const newPost = createRandomPost();
                    feed.appendChild(newPost);
                    isLoadingPosts = false;
                }, 1500);
            }

            function createRandomPost() {
                const names = ['Alex Parker', 'Maria Rodriguez', 'James Wilson', 'Sophie Chen', 'David Brown'];
                const posts = [
                    'Just discovered this amazing place! ',
                    'Beautiful day ahead! ',
                    'Living my best life ',
                    'Grateful for everything ',
                    'New adventures await! '
                ];

                const post = document.createElement('div');
                post.className = 'card fade-in';
                post.innerHTML = `
                    <div class="post-header">
                        <img src="https://i.pravatar.cc/150?img=${Math.floor(Math.random() * 70)}" alt="User" class="avatar">
                        <div class="user-info">
                            <div class="username">${names[Math.floor(Math.random() * names.length)]}</div>
                            <div class="post-time">Just now  <i class="fas fa-globe-americas"></i></div>
                        </div>
                        <div class="post-options">
                            <i class="fas fa-ellipsis-h"></i>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>${posts[Math.floor(Math.random() * posts.length)]}</p>
                    </div>
                    <div class="post-actions">
                        <button class="action-btn like-btn">
                            <i class="far fa-heart"></i> ${Math.floor(Math.random() * 200)}
                        </button>
                        <button class="action-btn comment-toggle-btn">
                            <i class="far fa-comment"></i> ${Math.floor(Math.random() * 50)}
                        </button>
                        <button class="action-btn share-action">
                            <i class="far fa-paper-plane"></i> Share
                        </button>
                    </div>
                    <div class="comment-section">
                        <div class="comment-input-container">
                            <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                            <input type="text" class="comment-input" placeholder="Write a comment...">
                            <button class="comment-submit-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="comment-list"></div>
                    </div>
                `;

                // Add functionality to new post
                setupCommentFunctionality(post);
                return post;
            }

            // Keyboard Shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + K = Focus search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    const navItems = document.querySelectorAll('.nav-item');
                    navItems[1].click(); // Search
                }

                // Ctrl/Cmd + N = New post
                if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                    e.preventDefault();
                    createPostInput.focus();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }

                // Ctrl/Cmd + H = Home
                if ((e.ctrlKey || e.metaKey) && e.key === 'h') {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });

            // Service Worker for PWA (Progressive Web App)
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    // Service worker registration would go here
                    console.log('PWA ready!');
                });
            }

            // Network Status Indicator
            window.addEventListener('online', () => {
                showNetworkStatus(' Back online!', '#4caf50');
            });

            window.addEventListener('offline', () => {
                showNetworkStatus(' No internet connection', '#f44336');
            });

            function showNetworkStatus(message, color) {
                const status = document.createElement('div');
                status.style.cssText = `
                    position: fixed;
                    bottom: 80px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: ${color};
                    color: white;
                    padding: 12px 24px;
                    border-radius: 24px;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                    z-index: 9999;
                    font-weight: 600;
                    animation: fadeIn 0.3s;
                `;
                status.textContent = message;
                document.body.appendChild(status);

                setTimeout(() => {
                    status.style.animation = 'fadeOut 0.3s';
                    setTimeout(() => status.remove(), 300);
                }, 3000);
            }

            document.querySelectorAll('.copy-link').forEach(btn => {
                btn.addEventListener('click', function () {
                    navigator.clipboard.writeText(window.location.href);
                    alert(' Link copied to clipboard!');
                    this.closest('.options-menu').classList.remove('active');
                });
            });

            document.querySelectorAll('.hide-post').forEach(btn => {
                btn.addEventListener('click', function () {
                    if (confirm(' Hide this post? You won\'t see it in your feed.')) {
                        const post = this.closest('.card');
                        post.style.display = 'none';
                    }
                    this.closest('.options-menu').classList.remove('active');
                });
            });

            document.querySelectorAll('.report-post').forEach(btn => {
                btn.addEventListener('click', function () {
                    if (confirm(' Report this post? We\'ll review it.')) {
                        alert(' Thank you for reporting. We\'ll review this post.');
                    }
                    this.closest('.options-menu').classList.remove('active');
                });
            });

            // Facebook-like Reactions (Long press on Like button)
            let pressTimer;
            document.querySelectorAll('.like-btn').forEach(btn => {
                // Show reactions on hover (desktop)
                btn.addEventListener('mouseenter', function () {
                    const picker = this.querySelector('.reaction-picker');
                    if (picker) {
                        clearTimeout(pressTimer);
                        pressTimer = setTimeout(() => {
                            picker.classList.add('active');
                        }, 500);
                    }
                });

                btn.addEventListener('mouseleave', function () {
                    clearTimeout(pressTimer);
                    const picker = this.querySelector('.reaction-picker');
                    if (picker) {
                        setTimeout(() => {
                            if (!picker.matches(':hover')) {
                                picker.classList.remove('active');
                            }
                        }, 200);
                    }
                });
            });

            // Reaction selection
            document.querySelectorAll('.reaction').forEach(reaction => {
                reaction.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const emoji = this.dataset.reaction;
                    const btn = this.closest('.like-btn');
                    const icon = btn.querySelector('i');
                    const currentCount = parseInt(btn.textContent.match(/\d+/)?.[0] || 0);

                    // Update button with reaction
                    btn.innerHTML = `<div class="reaction-picker" style="display:none"></div>${emoji} ${currentCount + 1}`;
                    btn.classList.add('liked');

                    // Hide picker
                    this.closest('.reaction-picker').classList.remove('active');
                });

                reaction.addEventListener('mouseenter', function () {
                    this.closest('.reaction-picker').style.display = 'flex';
                });
            });

            // Header Create button
            const headerCreateBtn = document.getElementById('headerCreateBtn');
            headerCreateBtn.addEventListener('click', function () {
                createPostInput.focus();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Story click to view
            document.querySelectorAll('.story').forEach(story => {
                story.addEventListener('click', function () {
                    const username = this.querySelector('.story-username').textContent;
                    const avatar = this.querySelector('.story-avatar').src;
                    openStoryViewer(username, avatar);
                });
            });

            // Story Viewer Functionality
            const storyViewer = document.getElementById('storyViewer');
            const closeStoryViewer = document.getElementById('closeStoryViewer');
            const storyImage = document.getElementById('storyImage');
            const storyUsername = document.getElementById('storyUsername');
            const storyUserAvatar = document.getElementById('storyUserAvatar');
            const storyTime = document.getElementById('storyTime');
            const storyProgressBars = document.getElementById('storyProgressBars');
            const prevStory = document.getElementById('prevStory');
            const nextStory = document.getElementById('nextStory');
            const likeStory = document.getElementById('likeStory');
            const shareStory = document.getElementById('shareStory');
            const storyReplyInput = document.getElementById('storyReplyInput');
            const sendStoryReply = document.getElementById('sendStoryReply');

            const storyImages = [
                'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=500',
                'https://images.unsplash.com/photo-1682687221038-404cb8830901?w=500',
                'https://images.unsplash.com/photo-1682687220063-4742bd7fd538?w=500',
                'https://images.unsplash.com/photo-1682687221080-5cb261c645cb?w=500',
                'https://images.unsplash.com/photo-1682687218147-9806132dc697?w=500',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500',
                'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=500',
                'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=500',
                'https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?w=500',
                'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=500',
                'https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=500',
                'https://images.unsplash.com/photo-1511593358241-7eea1f3c84e5?w=500',
                'https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?w=500',
                'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=500',
                'https://images.unsplash.com/photo-1426604966848-d7adac402bff?w=500',
                'https://images.unsplash.com/photo-1502082553048-f009c37129b9?w=500',
                'https://images.unsplash.com/photo-1504893524553-b855bce32c67?w=500',
                'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?w=500',
                'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=500'
            ];

            let currentStoryIndex = 0;
            let storyProgressInterval;

            function openStoryViewer(username, avatar) {
                storyUsername.textContent = username;
                storyUserAvatar.src = avatar;
                storyTime.textContent = '2h ago';
                currentStoryIndex = 0;

                // Create progress bars
                storyProgressBars.innerHTML = '';
                storyImages.forEach((_, index) => {
                    const bar = document.createElement('div');
                    bar.className = 'progress-bar';
                    bar.innerHTML = '<div class="progress-fill"></div>';
                    storyProgressBars.appendChild(bar);
                });

                loadStory(0);
                storyViewer.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function loadStory(index) {
                if (index < 0 || index >= storyImages.length) return;

                currentStoryIndex = index;
                // Load random story image from the array
                const randomIndex = Math.floor(Math.random() * storyImages.length);
                storyImage.src = storyImages[randomIndex];

                // Update progress bars
                const bars = storyProgressBars.querySelectorAll('.progress-fill');
                bars.forEach((bar, i) => {
                    bar.classList.remove('active');
                    if (i < index) {
                        bar.style.width = '100%';
                    } else if (i === index) {
                        bar.classList.add('active');
                        bar.style.width = '0%';
                    } else {
                        bar.style.width = '0%';
                    }
                });

                // Auto advance after 5 seconds
                clearTimeout(storyProgressInterval);
                storyProgressInterval = setTimeout(() => {
                    if (currentStoryIndex < storyImages.length - 1) {
                        loadStory(currentStoryIndex + 1);
                    } else {
                        closeStoryViewerFn();
                    }
                }, 5000);
            }

            function closeStoryViewerFn() {
                storyViewer.classList.remove('active');
                document.body.style.overflow = 'auto';
                clearTimeout(storyProgressInterval);
            }

            closeStoryViewer.addEventListener('click', closeStoryViewerFn);

            prevStory.addEventListener('click', () => {
                if (currentStoryIndex > 0) {
                    loadStory(currentStoryIndex - 1);
                }
            });

            nextStory.addEventListener('click', () => {
                if (currentStoryIndex < storyImages.length - 1) {
                    loadStory(currentStoryIndex + 1);
                } else {
                    closeStoryViewerFn();
                }
            });

            // Like story
            likeStory.addEventListener('click', function () {
                const icon = this.querySelector('i');
                if (icon.classList.contains('far')) {
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    icon.style.color = '#e74c3c';
                    this.nextElementSibling.textContent = '125';
                } else {
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    icon.style.color = '';
                    this.nextElementSibling.textContent = '124';
                }
            });

            // Share story
            shareStory.addEventListener('click', () => {
                closeStoryViewerFn();
                setTimeout(() => openShareModal(), 300);
            });

            // Reply to story
            sendStoryReply.addEventListener('click', () => {
                const reply = storyReplyInput.value.trim();
                if (reply) {
                    alert(` Reply sent: "${reply}"`);
                    storyReplyInput.value = '';
                }
            });

            storyReplyInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendStoryReply.click();
                }
            });

            // Pause story on hold (mobile)
            let pauseTimer;
            storyImage.addEventListener('touchstart', () => {
                clearTimeout(storyProgressInterval);
                const activeFill = document.querySelector('.progress-fill.active');
                if (activeFill) {
                    activeFill.style.animationPlayState = 'paused';
                }
            });

            storyImage.addEventListener('touchend', () => {
                const activeFill = document.querySelector('.progress-fill.active');
                if (activeFill) {
                    activeFill.style.animationPlayState = 'running';
                }
                loadStory(currentStoryIndex);
            });

            // Double-click to like posts (Instagram/Facebook style)
            document.querySelectorAll('.post-image').forEach(img => {
                img.addEventListener('dblclick', function () {
                    const post = this.closest('.card');
                    const likeBtn = post.querySelector('.like-btn, .action-btn');

                    // Create heart animation
                    const heart = document.createElement('div');
                    heart.innerHTML = '';
                    heart.style.cssText = `
                        position: absolute;
                        font-size: 100px;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%) scale(0);
                        pointer-events: none;
                        z-index: 100;
                        animation: heartPop 0.6s ease-out;
                    `;

                    const style = document.createElement('style');
                    style.textContent = `
                        @keyframes heartPop {
                            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
                            100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);

                    this.parentElement.style.position = 'relative';
                    this.parentElement.appendChild(heart);

                    setTimeout(() => heart.remove(), 600);

                    // Trigger like if not already liked
                    if (likeBtn && !likeBtn.classList.contains('liked')) {
                        likeBtn.click();
                    }
                });
            });

            // Tag people in posts
            createPostInput.addEventListener('input', function () {
                const text = this.value;
                if (text.includes('@')) {
                    // Simple @ mention detection (for demo)
                    console.log('User is typing a mention');
                }
            });

            // Dark Mode Toggle
            const darkModeToggle = document.getElementById('darkModeToggle');
            let darkMode = localStorage.getItem('darkMode') === 'true';

            if (darkMode) {
                document.body.classList.add('dark-mode');
                darkModeToggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
            }

            darkModeToggle.addEventListener('click', function () {
                darkMode = !darkMode;
                document.body.classList.toggle('dark-mode');
                localStorage.setItem('darkMode', darkMode);

                const icon = this.querySelector('i');
                if (darkMode) {
                    icon.classList.replace('fa-moon', 'fa-sun');
                    alert(' Dark mode activated!');
                } else {
                    icon.classList.replace('fa-sun', 'fa-moon');
                    alert(' Light mode activated!');
                }
            });

            // Notification Bell
            const notificationBtn = document.getElementById('notificationBtn');
            const notifBadge = document.getElementById('notifBadge');

            notificationBtn.addEventListener('click', function () {
                const notifications = [
                    ' John liked your post',
                    ' Sarah commented: "Great photo!"',
                    ' Mike wants to be friends'
                ];

                alert(' Notifications:\n\n' + notifications.join('\n'));
                notifBadge.textContent = '0';
                notifBadge.style.display = 'none';
            });

            // Emoji Picker
            const emojiBtn = document.getElementById('emojiBtn');
            const emojiPicker = document.getElementById('emojiPicker');
            const emojiGrid = document.getElementById('emojiGrid');

            const emojis = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];

            emojis.forEach(emoji => {
                const span = document.createElement('span');
                span.className = 'emoji-item';
                span.textContent = emoji;
                span.addEventListener('click', function () {
                    createPostInput.value += emoji;
                    createPostInput.focus();
                    emojiPicker.classList.remove('active');
                });
                emojiGrid.appendChild(span);
            });

            emojiBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                emojiPicker.classList.toggle('active');
            });

            document.addEventListener('click', function (e) {
                if (!emojiPicker.contains(e.target) && e.target !== emojiBtn) {
                    emojiPicker.classList.remove('active');
                }
            });

            // GIF Button
            const gifBtn = document.getElementById('gifBtn');
            gifBtn.addEventListener('click', function () {
                alert(' GIF picker coming soon!\nIntegration with Giphy API');
            });

            // Online status indicator
            setInterval(() => {
                document.querySelectorAll('.avatar').forEach(avatar => {
                    if (!avatar.querySelector('.online-status') && Math.random() > 0.5) {
                        const status = document.createElement('div');
                        status.className = 'online-status';
                        avatar.parentElement.style.position = 'relative';
                        avatar.parentElement.appendChild(status);
                    }
                });
            }, 5000);

            // Typing indicator simulation
            setInterval(() => {
                document.querySelectorAll('.comment-input').forEach(input => {
                    input.addEventListener('input', function () {
                        const section = this.closest('.comment-section');
                        let indicator = section.querySelector('.typing-indicator');

                        if (!indicator) {
                            indicator = document.createElement('div');
                            indicator.className = 'typing-indicator';
                            indicator.textContent = 'Someone is typing...';
                            section.appendChild(indicator);
                        }

                        indicator.classList.add('active');
                        setTimeout(() => indicator.classList.remove('active'), 2000);
                    });
                });
            }, 1000);

            // Allow posting with Enter key (Ctrl+Enter for new line)
            createPostInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    createPostBtn.click();
                }
            });

            // Add animation to cards when they come into view
            const cards = document.querySelectorAll('.card');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, { threshold: 0.1 });

            cards.forEach(card => {
                observer.observe(card);
            });

            // Like button functionality
            const likeButtons = document.querySelectorAll('.action-btn');
            likeButtons.forEach(button => {
                button.addEventListener('click', function () {
                    if (this.querySelector('.fa-heart')) {
                        const icon = this.querySelector('.fa-heart');
                        if (icon.classList.contains('far')) {
                            icon.classList.remove('far');
                            icon.classList.add('fas');
                            icon.style.color = '#e74c3c';

                            // Increment like count
                            const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                            this.innerHTML = `<i class="fas fa-heart"></i> ${currentLikes + 1}`;
                        } else {
                            icon.classList.remove('fas');
                            icon.classList.add('far');
                            icon.style.color = '';

                            // Decrement like count
                            const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                            this.innerHTML = `<i class="far fa-heart"></i> ${currentLikes - 1}`;
                        }
                    }
                });
            });

            // Simulate real-time feed updates
            setInterval(() => {
                const feed = document.getElementById('feed');
                if (Math.random() > 0.85) { // 15% chance to add a new post
                    const randomNames = ['Alex Johnson', 'Maria Garcia', 'David Lee', 'Sophie Chen', 'James Wilson'];
                    const randomPosts = [
                        'Just joined VisualBook Mini! This app is amazing! ',
                        'Having a wonderful day! ',
                        'Check out this amazing view! ',
                        'Coffee time!  Anyone else need caffeine?',
                        'New beginnings! Excited for what\'s ahead '
                    ];

                    const newPost = document.createElement('div');
                    newPost.className = 'card fade-in';
                    newPost.innerHTML = `
                        <div class="post-header">
                            <img src="https://i.pravatar.cc/150?img=${Math.floor(Math.random() * 30)}" alt="User" class="avatar">
                            <div class="user-info">
                                <div class="username">${randomNames[Math.floor(Math.random() * randomNames.length)]}</div>
                                <div class="post-time">Just now  <i class="fas fa-globe-americas"></i></div>
                            </div>
                            <div class="post-options">
                                <i class="fas fa-ellipsis-h"></i>
                            </div>
                        </div>
                        <div class="post-content">
                            <p>${randomPosts[Math.floor(Math.random() * randomPosts.length)]}</p>
                        </div>
                        <div class="post-actions">
                            <button class="action-btn like-action">
                                <i class="far fa-heart"></i> 0
                            </button>
                            <button class="action-btn comment-toggle-btn">
                                <i class="far fa-comment"></i> 0
                            </button>
                            <button class="action-btn share-action">
                                <i class="far fa-paper-plane"></i> Share
                            </button>
                        </div>
                        <div class="comment-section">
                            <div class="comment-input-container">
                                <img src="https://i.pravatar.cc/150?img=1" alt="You" class="comment-avatar">
                                <input type="text" class="comment-input" placeholder="Write a comment...">
                                <button class="comment-submit-btn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                            <div class="comment-list"></div>
                        </div>
                    `;
                    feed.prepend(newPost);

                    // Add like functionality to the new post
                    const newLikeButton = newPost.querySelector('.like-action');
                    newLikeButton.addEventListener('click', function () {
                        if (this.querySelector('.fa-heart')) {
                            const icon = this.querySelector('.fa-heart');
                            if (icon.classList.contains('far')) {
                                icon.classList.remove('far');
                                icon.classList.add('fas');
                                icon.style.color = '#e74c3c';
                                const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                                this.innerHTML = `<i class="fas fa-heart"></i> ${currentLikes + 1}`;
                            } else {
                                icon.classList.remove('fas');
                                icon.classList.add('far');
                                icon.style.color = '';
                                const currentLikes = parseInt(this.textContent.match(/\d+/)[0]);
                                this.innerHTML = `<i class="far fa-heart"></i> ${currentLikes - 1}`;
                            }
                        }
                    });

                    // Add comment functionality
                    setupCommentFunctionality(newPost);

                    // Add share functionality
                    const shareBtn = newPost.querySelector('.share-action');
                    shareBtn.addEventListener('click', function () {
                        alert('Post shared! ');
                    });
                }
            }, 15000); // Check every 15 seconds
        });
    </script>
</body>

</html>